<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kids Wonder Hub - Learn & Play</title>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;800&family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF6B6B;
            --secondary: #4ECDC4;
            --accent: #FFE66D;
            --dark: #2C3E50;
            --light: #F7F9FC;
            --card-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Baloo 2', cursive;
            background-color: var(--light);
            background-image: radial-gradient(#e0e7ff 2px, transparent 2px);
            background-size: 30px 30px;
            color: var(--dark);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, var(--primary), #ff8e8e);
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        h1 {
            font-family: 'Fredoka One', cursive;
            color: white;
            font-size: 2.5rem;
            margin: 0;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
            letter-spacing: 1px;
        }

        /* Navigation */
        nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        nav button {
            background: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            font-family: 'Baloo 2', cursive;
            font-weight: 800;
            font-size: 1.1rem;
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        nav button:hover, nav button.active {
            transform: translateY(-3px);
            background: var(--accent);
            color: var(--dark);
            box-shadow: 0 8px 15px rgba(255, 230, 109, 0.4);
        }

        /* Sections */
        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
            display: none;
            animation: slideUp 0.6s ease-out;
        }

        .container.active {
            display: block;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            text-align: center;
            color: var(--secondary);
            font-size: 2rem;
            margin-bottom: 30px;
            font-weight: 800;
        }

        /* Grids */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 25px;
            padding: 10px;
        }

        /* Flip Cards */
        .card-container {
            perspective: 1000px;
            height: 200px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
        }

        .card-container.flipped .card {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            border: 4px solid white;
        }

        .card-front {
            background: white;
            color: var(--primary);
            font-size: 4rem;
        }

        .card-back {
            background: var(--secondary);
            color: white;
            transform: rotateY(180deg);
            font-size: 1.5rem;
        }

        .card-emoji {
            font-size: 4rem;
            margin-bottom: 10px;
        }

        /* Drawing Canvas */
        .canvas-controls {
            text-align: center;
            margin-bottom: 15px;
        }
        
        .color-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid white;
            cursor: pointer;
            display: inline-block;
            margin: 0 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        canvas {
            background: white;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            cursor: crosshair;
            display: block;
            margin: 0 auto;
            touch-action: none; /* Prevents scrolling while drawing on mobile */
        }

        /* Quiz Styles */
        .quiz-box {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--card-shadow);
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .question {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 20px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-btn {
            background: var(--light);
            border: 2px solid #e0e7ff;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.2s;
            font-family: 'Baloo 2';
        }

        .option-btn:hover {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .score-display {
            font-size: 1.5rem;
            color: var(--primary);
            margin-top: 20px;
            font-weight: bold;
        }

        /* Confetti */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* Responsive */
        @media (max-width: 600px) {
            h1 { font-size: 1.8rem; }
            .grid { grid-template-columns: repeat(2, 1fr); }
            .card-container { height: 160px; }
            .card-front { font-size: 3rem; }
            canvas { width: 100%; }
        }
    </style>
</head>
<body>

    <header>
        <h1>üéà Kids Wonder Hub</h1>
        <nav>
            <button onclick="switchTab('alphabets', this)" class="active">üÖ∞Ô∏è Alphabets</button>
            <button onclick="switchTab('numbers', this)">üî¢ Numbers</button>
            <button onclick="switchTab('draw', this)">üé® Draw</button>
            <button onclick="switchTab('quiz', this)">‚ùì Quiz</button>
        </nav>
    </header>

    <div id="alphabets" class="container active">
        <h2 class="section-title">Tap a card to learn!</h2>
        <div class="grid" id="alphabet-grid">
            </div>
    </div>

    <div id="numbers" class="container">
        <h2 class="section-title">Count with me!</h2>
        <div class="grid" id="number-grid">
            </div>
    </div>

    <div id="draw" class="container">
        <h2 class="section-title">Scribble Pad</h2>
        <div class="canvas-controls">
            <span class="color-btn" style="background: #000;" onclick="setColor('#000')"></span>
            <span class="color-btn" style="background: #FF6B6B;" onclick="setColor('#FF6B6B')"></span>
            <span class="color-btn" style="background: #4ECDC4;" onclick="setColor('#4ECDC4')"></span>
            <span class="color-btn" style="background: #FFE66D;" onclick="setColor('#FFE66D')"></span>
            <span class="color-btn" style="background: #6C5CE7;" onclick="setColor('#6C5CE7')"></span>
            <button onclick="clearCanvas()" style="padding: 5px 15px; border-radius: 15px; border: 1px solid #ccc; background: white; cursor: pointer;">üßΩ Clear</button>
        </div>
        <canvas id="drawingCanvas" width="600" height="400"></canvas>
    </div>

    <div id="quiz" class="container">
        <h2 class="section-title">Are you a Genius?</h2>
        <div class="quiz-box">
            <div id="quiz-content">
                <div class="question" id="question-text">Question goes here...</div>
                <div class="options" id="options-container"></div>
                <div id="feedback" style="margin-top: 15px; height: 30px;"></div>
            </div>
            <div class="score-display">Score: <span id="score">0</span></div>
            <button onclick="resetQuiz()" style="margin-top: 20px; display: none;" id="restart-btn" class="option-btn">Play Again üîÑ</button>
        </div>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <script>
        // --- DATA ---
        const alphabets = [
            { l: 'A', w: 'Apple', e: 'üçé' }, { l: 'B', w: 'Ball', e: '‚öΩ' }, { l: 'C', w: 'Cat', e: 'üê±' },
            { l: 'D', w: 'Dog', e: 'üê∂' }, { l: 'E', w: 'Elephant', e: 'üêò' }, { l: 'F', w: 'Fish', e: 'üê†' },
            { l: 'G', w: 'Giraffe', e: 'ü¶í' }, { l: 'H', w: 'House', e: 'üè†' }, { l: 'I', w: 'Ice Cream', e: 'üç¶' },
            { l: 'J', w: 'Juice', e: 'üßÉ' }, { l: 'K', w: 'Kite', e: 'ü™Å' }, { l: 'L', w: 'Lion', e: 'ü¶Å' },
            { l: 'M', w: 'Monkey', e: 'üêµ' }, { l: 'N', w: 'Nest', e: 'ü™∫' }, { l: 'O', w: 'Orange', e: 'üçä' },
            { l: 'P', w: 'Penguin', e: 'üêß' }, { l: 'Q', w: 'Queen', e: 'üë∏' }, { l: 'R', w: 'Robot', e: 'ü§ñ' },
            { l: 'S', w: 'Sun', e: '‚òÄÔ∏è' }, { l: 'T', w: 'Tiger', e: 'üêØ' }, { l: 'U', w: 'Umbrella', e: '‚òÇÔ∏è' },
            { l: 'V', w: 'Van', e: 'üöê' }, { l: 'W', w: 'Whale', e: 'üê≥' }, { l: 'X', w: 'Xylophone', e: 'üéπ' },
            { l: 'Y', w: 'Yo-Yo', e: 'ü™Ä' }, { l: 'Z', w: 'Zebra', e: 'ü¶ì' }
        ];

        const numbers = Array.from({length: 20}, (_, i) => ({ n: i + 1 }));

        const quizData = [
            { q: "What comes after A?", o: ["B", "C", "D"], a: "B" },
            { q: "Which animal says 'Meow'?", o: ["Dog", "Cat", "Cow"], a: "Cat" },
            { q: "Count the stars: ‚≠ê‚≠ê‚≠ê", o: ["2", "3", "5"], a: "3" },
            { q: "What color is a Sun?", o: ["Blue", "Yellow", "Green"], a: "Yellow" },
            { q: "Which number comes after 9?", o: ["8", "10", "11"], a: "10" }
        ];

        // --- INIT ---
        function init() {
            // Generate Alphabets
            const alphaGrid = document.getElementById('alphabet-grid');
            alphabets.forEach(item => {
                alphaGrid.innerHTML += `
                    <div class="card-container" onclick="flipCard(this, '${item.l} for ${item.w}')">
                        <div class="card">
                            <div class="card-front">${item.l}</div>
                            <div class="card-back">
                                <div class="card-emoji">${item.e}</div>
                                <div>${item.w}</div>
                            </div>
                        </div>
                    </div>`;
            });

            // Generate Numbers
            const numGrid = document.getElementById('number-grid');
            numbers.forEach(item => {
                let stars = '‚≠ê'.repeat(item.n > 5 ? 1 : item.n); 
                let text = item.n > 5 ? `${item.n} Stars` : stars;
                numGrid.innerHTML += `
                    <div class="card-container" onclick="flipCard(this, '${item.n}')">
                        <div class="card">
                            <div class="card-front" style="color: var(--secondary)">${item.n}</div>
                            <div class="card-back" style="background: var(--primary)">
                                <div style="font-size: 1rem">${text}</div>
                            </div>
                        </div>
                    </div>`;
            });

            loadQuestion();
            initCanvas();
        }

        // --- LOGIC ---
        function switchTab(id, btn) {
            document.querySelectorAll('.container').forEach(d => d.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        function flipCard(el, text) {
            // Close other cards
            document.querySelectorAll('.card-container.flipped').forEach(c => {
                if(c !== el) c.classList.remove('flipped');
            });
            
            el.classList.toggle('flipped');
            
            if (el.classList.contains('flipped')) {
                speak(text);
            }
        }

        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.9;
                utterance.pitch = 1.2;
                window.speechSynthesis.speak(utterance);
            }
        }

        // --- DRAWING CANVAS ---
        let canvas, ctx, painting = false;
        let drawColor = "#000";

        function initCanvas() {
            canvas = document.getElementById("drawingCanvas");
            ctx = canvas.getContext("2d");
            
            // Handle resizing
            function resizeCanvas() {
                const parent = canvas.parentElement;
                canvas.width = parent.clientWidth - 40; // padding
                canvas.height = 300;
            }
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            // Mouse Events
            canvas.addEventListener("mousedown", startPosition);
            canvas.addEventListener("mouseup", finishedPosition);
            canvas.addEventListener("mousemove", draw);
            
            // Touch Events
            canvas.addEventListener("touchstart", (e) => {
                e.preventDefault();
                startPosition(e.touches[0]);
            });
            canvas.addEventListener("touchend", finishedPosition);
            canvas.addEventListener("touchmove", (e) => {
                e.preventDefault();
                draw(e.touches[0]);
            });
        }

        function startPosition(e) {
            painting = true;
            draw(e);
        }

        function finishedPosition() {
            painting = false;
            ctx.beginPath();
        }

        function draw(e) {
            if (!painting) return;
            
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX || e.pageX) - rect.left;
            const y = (e.clientY || e.pageY) - rect.top;

            ctx.lineWidth = 5;
            ctx.lineCap = "round";
            ctx.strokeStyle = drawColor;

            ctx.lineTo(x, y);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(x, y);
        }

        function setColor(c) { drawColor = c; }
        function clearCanvas() { ctx.clearRect(0, 0, canvas.width, canvas.height); }

        // --- QUIZ LOGIC ---
        let currentQ = 0;
        let score = 0;

        function loadQuestion() {
            if (currentQ >= quizData.length) {
                endQuiz();
                return;
            }
            const q = quizData[currentQ];
            document.getElementById('question-text').innerText = q.q;
            const opts = document.getElementById('options-container');
            opts.innerHTML = '';
            
            q.o.forEach(opt => {
                opts.innerHTML += `<button class="option-btn" onclick="checkAnswer('${opt}')">${opt}</button>`;
            });
        }

        function checkAnswer(ans) {
            const correct = quizData[currentQ].a;
            const fb = document.getElementById('feedback');
            
            if (ans === correct) {
                score++;
                fb.innerHTML = "<span style='color:green'>Correct! üéâ</span>";
                speak("Correct!");
            } else {
                fb.innerHTML = "<span style='color:red'>Oops! Try again.</span>";
                speak("Oops");
            }
            
            document.getElementById('score').innerText = score;
            currentQ++;
            setTimeout(() => {
                fb.innerHTML = "";
                loadQuestion();
            }, 1000);
        }

        function endQuiz() {
            document.getElementById('quiz-content').innerHTML = `
                <h2>Quiz Complete!</h2>
                <p>You scored ${score} out of ${quizData.length}</p>
                ${score === quizData.length ? "<h3>üåü You are a GENIUS! üåü</h3>" : ""}
            `;
            document.getElementById('restart-btn').style.display = 'inline-block';
            
            if (score === quizData.length) {
                speak("You are a Genius!");
                startConfetti();
            }
        }

        function resetQuiz() {
            currentQ = 0;
            score = 0;
            document.getElementById('score').innerText = "0";
            document.getElementById('restart-btn').style.display = 'none';
            document.getElementById('quiz-content').innerHTML = `
                <div class="question" id="question-text"></div>
                <div class="options" id="options-container"></div>
                <div id="feedback" style="margin-top: 15px; height: 30px;"></div>
            `;
            loadQuestion();
            stopConfetti();
        }

        // --- CONFETTI EFFECT (Simple JS Implementation) ---
        let confettiInterval;
        function startConfetti() {
            const c = document.getElementById('confetti-canvas');
            const ctx = c.getContext('2d');
            c.width = window.innerWidth;
            c.height = window.innerHeight;
            
            const pieces = [];
            for(let i=0; i<100; i++) {
                pieces.push({
                    x: Math.random() * c.width,
                    y: Math.random() * c.height - c.height,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    size: Math.random() * 10 + 5,
                    speed: Math.random() * 5 + 2
                });
            }

            confettiInterval = setInterval(() => {
                ctx.clearRect(0, 0, c.width, c.height);
                pieces.forEach(p => {
                    p.y += p.speed;
                    if(p.y > c.height) p.y = -20;
                    ctx.fillStyle = p.color;
                    ctx.fillRect(p.x, p.y, p.size, p.size);
                });
            }, 20);

            setTimeout(stopConfetti, 5000); // Stop after 5 seconds
        }

        function stopConfetti() {
            clearInterval(confettiInterval);
            const c = document.getElementById('confetti-canvas');
            const ctx = c.getContext('2d');
            ctx.clearRect(0, 0, c.width, c.height);
        }

        // Start
        init();

    </script>
</body>
</html>